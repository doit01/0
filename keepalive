Keepalived 是一个开源工具，主要用于实现 ‌高可用性（HA）‌ 和 ‌负载均衡‌。它的核心功能是通过管理虚拟 IP（VIP）和服务健康检查，确保关键服务的持续可用性和性能优化。以下是其主要作用：

1. 高可用性（High Availability）‌
故障自动切换‌：
Keepalived 基于 ‌VRRP 协议（Virtual Router Redundancy Protocol）‌，将多台服务器组成一个虚拟组（Virtual Group），共享一个虚拟 IP（VIP）。当主服务器（Master）故障时，备用服务器（Backup）会自动接管 VIP，实现无缝切换，避免单点故障。
示例‌：
主服务器宕机时，用户请求会通过 VIP 自动转移到备用服务器，服务不中断。
2. 负载均衡‌
基于 Layer 4（传输层）的负载均衡‌：
Keepalived 可以结合 ‌LVS（Linux Virtual Server）‌ 实现流量分发，将请求均匀分配到多个后端服务器，支持多种调度算法（如轮询、加权轮询、最小连接数等）。
示例‌：
将用户的 HTTP 请求分发到多个 Web 服务器，提升系统吞吐量和响应速度。
3. 健康检查（Health Checking）‌
服务状态监控‌：
Keepalived 可以定期检查后端服务器的健康状态（如 HTTP、TCP 端口、自定义脚本等）。如果某台服务器不可用，自动将其从负载均衡池中移除。
示例‌：
检测到某台 Web 服务器的 80 端口无响应时，停止将流量转发到该服务器。
4. 虚拟 IP（VIP）管理‌
VIP 漂移‌：
通过虚拟 IP 对外提供服务，实际请求会被转发到后端的真实服务器。VIP 可以在主备服务器之间自动迁移，对外隐藏故障切换的细节。
典型应用场景‌
Web 服务器高可用‌：确保网站或 API 服务持续可用。
数据库主从切换‌：如 MySQL 主库故障时切换到备库。
负载均衡集群‌：结合 LVS 构建高可用负载均衡器。
网络服务冗余‌：如 Nginx、HAProxy 等服务的故障转移。
配置要点‌
VRRP 配置‌：定义虚拟路由组、优先级、心跳检测等。
健康检查脚本‌：自定义脚本检测服务状态（如检查 MySQL 是否运行）。
与 LVS 集成‌：配置负载均衡规则和后端服务器池。
优势‌
轻量级‌：资源占用低，适合大规模部署。
灵活性‌：支持自定义健康检查脚本和多种负载均衡算法。
稳定性‌：通过 VRRP 协议保证故障切换的可靠性。
总结‌

Keepalived 的核心价值在于通过 ‌自动故障切换‌ 和 ‌负载均衡‌ 保障关键服务的持续可用性，同时提升系统的扩展性和容灾能力。适用于需要高可用性和流量分发的服务器集群场景。
